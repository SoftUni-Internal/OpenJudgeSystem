{"version":3,"file":"main.4e2100b82ba41902eec1.hot-update.js","sources":["C:/Users/User/Desktop/OpenJudgeSystem/Servers/UI/OJS.Servers.Ui/ClientApp/src/components/submissions/details/SubmissionDetails.tsx"],"sourcesContent":["import * as React from 'react';\nimport { useEffect, useMemo } from 'react';\nimport { isNil } from 'lodash';\nimport { useSubmissionsDetails } from '../../../hooks/submissions/use-submissions-details';\nimport Heading, { HeadingType } from '../../guidelines/headings/Heading';\nimport CodeEditor from '../../code-editor/CodeEditor';\nimport SubmissionResults from '../submission-results/SubmissionResults';\nimport concatClassNames from '../../../utils/class-names';\nimport RefreshableSubmissionsList from '../submissions-list/RefreshableSubmissionsList';\nimport styles from './SubmissionDetails.module.scss';\n\nconst SubmissionDetails = () => {\n    const {\n        state: {\n            currentSubmission,\n            currentProblemSubmissionResults,\n        },\n        actions: { getSubmissionResults },\n    } = useSubmissionsDetails();\n\n    const problemNameHeadingText = useMemo(\n        () => `${currentSubmission?.problem.name} - ${currentSubmission?.problem.id}`,\n        [ currentSubmission?.problem.id, currentSubmission?.problem.name ],\n    );\n\n    const detailsHeadingText = useMemo(\n        () => `Details #${currentSubmission?.id}`,\n        [ currentSubmission?.id ],\n    );\n\n    const { submissionType } = currentSubmission || {};\n\n    const submissionsNavigationClassName = 'submissionsNavigation';\n\n    const submissionsDetails = 'submissionDetails';\n    const submissionDetailsClassName = concatClassNames(styles.navigation, styles.submissionDetails, submissionsDetails);\n\n    useEffect(() => {\n        if (isNil(currentSubmission)) {\n            return;\n        }\n\n        const { problem: { id: problemId }, isOfficial } = currentSubmission;\n\n        (async () => {\n            await getSubmissionResults(problemId, isOfficial);\n        })();\n    }, [ currentSubmission, getSubmissionResults ]);\n\n    if (isNil(currentSubmission)) {\n        return <div>No details fetched.</div>;\n    }\n\n    return (\n        <div className={styles.detailsWrapper}>\n            <div className={styles.navigation}>\n                <div className={submissionsNavigationClassName}>\n                    <Heading type={HeadingType.secondary}>Submissions</Heading>\n                </div>\n                <RefreshableSubmissionsList\n                  items={currentProblemSubmissionResults}\n                  selectedSubmission={currentSubmission}\n                  className={styles.submissionsList}\n                />\n            </div>\n            <div className={styles.code}>\n                <Heading\n                  type={HeadingType.secondary}\n                  className={styles.taskHeading}\n                >\n                    {problemNameHeadingText}\n                </Heading>\n                <CodeEditor\n                  readOnly\n                  code={currentSubmission?.content}\n                  selectedSubmissionType={submissionType}\n                />\n            </div>\n            <div className={submissionDetailsClassName}>\n                <Heading type={HeadingType.secondary}>{detailsHeadingText}</Heading>\n                <SubmissionResults testRuns={currentSubmission.testRuns} />\n            </div>\n        </div>\n    );\n};\n\nexport default SubmissionDetails;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAOA;AACA;AAAA;AAIA;AACA;AAAA;AACA;AAGA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAJA;AAAA;AAAA;AAAA;AAAA;AAUA;AAAA;AAEA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAHA;AAAA;AAAA;AAAA;AAAA;AAPA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;AAAA;AAAA;AAAA;AAAA;AAxBA;AAAA;AAAA;AAAA;AAAA;AA8BA;AACA;AA1EA;AAOA;;;AAPA;AA2EA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}